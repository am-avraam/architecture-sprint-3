# ER-диаграмма

## Основные сущности и их атрибуты

1. **Пользователь (User)**
    - `id` — уникальный идентификатор пользователя.
    - `name` — имя пользователя.
    - `email` — электронная почта пользователя.
    - `password` — пароль пользователя.

2. **Дом (House)**
    - `id` — уникальный идентификатор дома.
    - `user_id` — идентификатор пользователя, к которому принадлежит дом (внешний ключ к таблице User).
    - `address` — адрес дома.

3. **Устройство (Device)**
    - `id` — уникальный идентификатор устройства.
    - `type_id` — идентификатор типа устройства (внешний ключ к таблице DeviceType).
    - `house_id` — идентификатор дома, к которому принадлежит устройство (внешний ключ к таблице House).
    - `serial_number` — серийный номер устройства.
    - `status` — текущее состояние устройства (включено/выключено).

4. **Тип устройства (DeviceType)**
    - `id` — уникальный идентификатор типа устройства.
    - `name` — название типа устройства.

5. **Модуль (Module)**
    - `id` — уникальный идентификатор модуля.
    - `device_id` — идентификатор устройства, к которому принадлежит модуль (внешний ключ к таблице Device).
    - `name` — название модуля.
    - `status` — текущее состояние модуля (включено/выключено).

6. **Телеметрия (TelemetryData)**
    - `id` — уникальный идентификатор записи телеметрии.
    - `device_id` — идентификатор устройства, которое сгенерировало телеметрию (внешний ключ к таблице Device).
    - `timestamp` — временная метка записи.
    - `data` — данные телеметрии.

## Описание связей между сущностями

1. **Пользователь — Дом**: Один пользователь может иметь доступ к нескольким домам, но каждый дом связан только с одним пользователем (один-ко-многим).
2. **Дом — Устройство**: Один дом может содержать несколько устройств, и каждое устройство принадлежит только одному дому (один-ко-многим).
3. **Устройство — Тип устройства**: Один тип устройства может быть связан с несколькими устройствами, но каждое устройство имеет только один тип (один-ко-многим).
4. **Устройство — Модуль**: Одно устройство может содержать несколько модулей, и каждый модуль принадлежит только одному устройству (один-ко-многим).
5. **Устройство — Телеметрия**: Одно устройство может генерировать множество записей телеметрии (один-ко-многим).

## Объяснение диаграммы

- **User**: Содержит информацию о пользователях.
- **House**: Связан с пользователем через внешний ключ `user_id`.
- **Device**: Связан с домом через внешний ключ `house_id` и с типом устройства через внешний ключ `type_id`.
- **DeviceType**: Содержит информацию о типах устройств.
- **Module**: Связан с устройством через внешний ключ `device_id`.
- **TelemetryData**: Связан с устройством через внешний ключ `device_id`.
